<div class="container-projeto">
  <div *ngIf="!carregandoDados" class="container">
    <h1 class="pagina-titulo">
      {{ projeto.nome }}
    </h1>
    <h4>Exemplos de ShareButtons: </h4>
    <share-buttons class="withCount" 
                  [url]="url" 
                  [title]="'Projeto: ' + projeto.nome" 
                  [description]="'VERSALIC - Portal de Visualização do Sistema de Apoio às Leis de Incentivo à Cultura.'"
                  [stumbleUpOn]="false" [pinterest]="false" [tumblr]="false"
                  [showCount]="true" ></share-buttons>

    <div *ngIf="projeto != undefined">

      <h4>Exemplo de formatação de dados: </h4> 
      <p>Data Formatada: {{ projeto?.data_inicio }} -> {{ dataFormatterService.formataData(projeto?.data_inicio)}} -> {{ dataFormatterService.formataDataExtenso(projeto?.data_inicio)}}<br></p>
      <p>Valor Formatado: {{ projeto?.valor_solicitado }} -> {{ dataFormatterService.formataValorEmReais(projeto?.valor_solicitado)}}<br></p>
      <p>CGCCPF Formatado: {{ projeto?.cgccpf }} -> {{ dataFormatterService.formataCGCCPF(projeto?.cgccpf)}}<br></p>

      <h4>Links de Entidades Relacionadas: </h4>
      <button [routerLink]="['/proponentes', dataFormatterService.extraiIdDaUrl(projeto._links.proponente)]" type="button" class="btn btn-primary" >VER PROPONENTE</button>
      <button [routerLink]="['/incentivadores']" [queryParams]="{'PRONAC': projeto.PRONAC}" type="button" class="btn btn-success" disabled="{ projeto._embedded.captacoes?.length <= 0 }">BUSCAR INCENTIVADORES</button>
      <button [routerLink]="['/fornecedores']" [queryParams]="{'PRONAC': projeto.PRONAC}" type="button" class="btn btn-info" disabled="{ projeto._embedded.relacao_pagamentos?.length <= 0}">BUSCAR FORNECEDORES</button>
    
      <h4>Exemplo de Captações (uma das)</h4>
      <p *ngIf="projeto._embedded.captacoes.length <= 0">Este projeto ainda <strong>não possui Incentivadores</strong> ou captações.</p>
      <p *ngIf="projeto._embedded.captacoes.length > 0">{{ projeto._embedded.captacoes[0].valor }} doados pelo {{ projeto._embedded.captacoes[0].nome_doador }}. <button type="button" class="btn btn-warning" [routerLink]="['/incentivadores', dataFormatterService.extraiIdDaUrl(projeto._embedded.captacoes[0]._links.incentivador)]">IR PARA INCENTIVADOR</button></p>

      <h4>Exemplo de Relações Pagamento (produtos) (uma das)</h4>
      <p *ngIf="projeto._embedded.relacao_pagamentos.length <= 0">Este projeto ainda <strong>não possui Fornecedores</strong> ou Relações Pagamento.</p>
      <p *ngIf="projeto._embedded.relacao_pagamentos.length > 0">{{ projeto._embedded.relacao_pagamentos[0].nome }} fornecido pelo {{ projeto._embedded.relacao_pagamentos[0].nome_fornecedor }}. <button type="button" class="btn btn-warning" [routerLink]="['/fornecedores', dataFormatterService.extraiIdDaUrl(projeto._embedded.relacao_pagamentos[0]._links.fornecedor)]">IR PARA FORNECEDOR</button></p>

      <h4>Restante dos dados: </h4> 
      <p>{{ JSON.stringify(projeto) }}</p>
    </div> 
  </div>
  <div *ngIf="carregandoDados" class="spinner">
    <sk-cube-grid [color]="'#226000'" [isRunning]="carregandoDados"></sk-cube-grid>
    <p>Carregando Projeto...</p>
  </div>
</div>