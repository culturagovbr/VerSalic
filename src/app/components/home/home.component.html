<h3>
  Página Inicial
</h3>
<!--<div>
  <ul>
    <li><a [routerLink]="['', pesquisaPor]" [queryParams]="queries">Página Inicial com Pesquisa por {{ pesquisaPor }} + Queries</a></li>
    <li><a [routerLink]="['/projetos', 1]">Página de Projeto</a></li>
    <li><a [routerLink]="['/propostas', 1]">Página de Proposta</a></li>
    <li><a [routerLink]="['/proponentes', '123456789']">Página de Proponente</a></li>
    <li><a [routerLink]="['/incentivadores','123456789']">Página de Incentivador</a></li>
    <li><a [routerLink]="['/fornecedores', '123456789']">Página de Fornecedor</a></li>
  </ul>
</div>-->
<div>
  <div class="btn-group" dropdown>
    <button id="single-button" type="button" class="btn btn-default" dropdownToggle>
      Pesquisar por <span class="caret"></span>
    </button>
    <ul dropdownMenu role="menu" aria-labelledby="single-button">
      <li role="menuitem"><a class="dropdown-item" (click)="onTrocaPesquisaPor('projetos')">Projetos</a></li>
      <li role="menuitem"><a class="dropdown-item" (click)="onTrocaPesquisaPor('propostas')">Propostas</a></li>
      <li role="menuitem"><a class="dropdown-item" (click)="onTrocaPesquisaPor('proponentes')">Proponentes</a></li>
      <li role="menuitem"><a class="dropdown-item" (click)="onTrocaPesquisaPor('incentivadores')">Incentivadores</a></li>
      <li role="menuitem"><a class="dropdown-item" (click)="onTrocaPesquisaPor('fornecedores')">Fornecedores</a></li>
    </ul>
  </div>
</div>
<div>
  <p>Buscar na API por {{ pesquisaPor }} com os campos: {{ JSON.stringify(queries) }} <button type="button" class="btn btn-success" (click)="onRealizarBusca()">Buscar <span class="glyphicon glyphicon-search" aria-hidden="true"></span></button></p>
   <!--<div class="chip">
    <div class="chip-tag">UF</div>
         John Doe
      <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
    </div>-->
</div>

<div [ngSwitch]="pesquisaPor">
      
  <ul *ngSwitchCase="'projetos'" class="list-group">
    <li *ngFor="let projeto of listaProjetos" class="list-group-item">
      <div class="row">
        <div class="col-sm-9"><p>{{ projeto.nome }}</p></div> 
        <div class="col-sm-3"><button [routerLink]="['/projetos', projeto.PRONAC]" 
                                       type="button" 
                                       class="btn btn-primary" >VER PROJETO</button></div>
      </div>
    </li> 
  </ul>
  <ul *ngSwitchCase="'propostas'" class="list-group">
    <li *ngFor="let proposta of listaPropostas" class="list-group-item">
      <div class="row">
         <div class="col-sm-9"><p>{{ proposta.nome }}</p></div> 
         <div class="col-sm-3"><button [routerLink]="['/propostas', proposta.id]" 
                                        type="button" 
                                        class="btn btn-primary" >VER PROPOSTA</button></div>
      </div>
    </li>
  </ul>
  <ul *ngSwitchCase="'proponentes'" class="list-group">
    <li *ngFor="let proponente of listaProponentes" class="list-group-item">
      <div class="row">
        <div class="col-sm-9"><p>{{ proponente.nome }}</p></div> 
        <div class="col-sm-3"><button [routerLink]="['/proponentes', dataFormatterService.extraiIdDaUrl(proponente._links.self)]" 
                                       type="button" 
                                       class="btn btn-primary" >VER PROPONENTE</button></div>
      </div>                                   
    </li>
  </ul>
  <ul *ngSwitchCase="'incentivadores'" class="list-group">
    <li *ngFor="let incentivador of listaIncentivadores" class="list-group-item">
      <div class="row">
        <div class="col-sm-9"><p>{{ incentivador.nome }}</p></div> 
        <div class="col-sm-3"><button [routerLink]="['/incentivadores', dataFormatterService.extraiIdDaUrl(incentivador._links.self)]" 
                                       type="button" 
                                       class="btn btn-primary" >VER INCENTIVADOR</button></div>
      </div>
    </li>
  </ul>
  <ul *ngSwitchCase="'fornecedores'" class="list-group">
    <li *ngFor="let fornecedor of listaFornecedores" class="list-group-item">
      <div class="row">
      <div class="col-sm-9"><p>{{ fornecedor.nome }}</p></div> 
      <div class="col-sm-3"><button [routerLink]="['/fornecedores', dataFormatterService.extraiIdDaUrl(fornecedor._links.self)]" 
                                       type="button" 
                                       class="btn btn-primary" >VER FORNECEDOR</button></div>
      </div>
    </li>
  </ul>

</div>

<div *ngIf="carregandoDados"> <sk-fading-circle></sk-fading-circle></div>
<p *ngIf="carregandoDados">Carregando {{ pesquisaPor }}...</p>
<alert *ngIf="buscaSemResultados"type="danger">
  <p>Não encontramos {{ pesquisaPor }} com estes parâmetros de pesquisa :(</p>
  <p>Experimente mudar os termos de busca ou filtros aplicados.</p>
</alert>

<div *ngIf="!buscaSemResultados">       
  <div *ngIf="(numeroDeItems < totalDeItems)  && !buscaSemResultados">
    <alert type="success">Exibindo {{ numeroDeItems }} de um total de {{ totalDeItems }} {{ pesquisaPor }} {{ pesquisaPor==='propostas'?'encontradas':'encontrados' }}.</alert>

      <pagination [totalItems]="totalDeItems" 
                  (pageChanged)="carregarPagina(paginaAtual)" 
                  [maxSize]=" maximoBotoes" 
                  class="pagination-sm"
                  [boundaryLinks]="true" 
                  [rotate]="false"  
                  [(ngModel)]="paginaAtual"></pagination>
  </div>
</div>