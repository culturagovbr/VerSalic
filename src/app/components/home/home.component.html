<h3>
  Página Inicial
</h3>
<!--<div>
  <ul>
    <li><a [routerLink]="['', pesquisaPor]" [queryParams]="queries">Página Inicial com Pesquisa por {{ pesquisaPor }} + Queries</a></li>
    <li><a [routerLink]="['/projetos', 1]">Página de Projeto</a></li>
    <li><a [routerLink]="['/propostas', 1]">Página de Proposta</a></li>
    <li><a [routerLink]="['/proponentes', '123456789']">Página de Proponente</a></li>
    <li><a [routerLink]="['/incentivadores','123456789']">Página de Incentivador</a></li>
    <li><a [routerLink]="['/fornecedores', '123456789']">Página de Fornecedor</a></li>
  </ul>
</div>-->
<div>
  <div class="btn-group" dropdown>
    <button id="single-button" type="button" class="btn btn-default" dropdownToggle>
      Pesquisar por <span class="caret"></span>
    </button>
    <ul dropdownMenu role="menu" aria-labelledby="single-button">
      <li role="menuitem"><a class="dropdown-item" (click)="onTrocaPesquisaPor('projetos')">Projetos</a></li>
      <li role="menuitem"><a class="dropdown-item" (click)="onTrocaPesquisaPor('propostas')">Propostas</a></li>
      <li role="menuitem"><a class="dropdown-item" (click)="onTrocaPesquisaPor('proponentes')">Proponentes</a></li>
      <li role="menuitem"><a class="dropdown-item" (click)="onTrocaPesquisaPor('incentivadores')">Incentivadores</a></li>
      <li role="menuitem"><a class="dropdown-item" (click)="onTrocaPesquisaPor('fornecedores')">Fornecedores</a></li>
    </ul>
  </div>
</div>
<div>
  <p>Buscar na API por {{ pesquisaPor }} com os campos: {{ JSON.stringify(queries) }} <button type="button" class="btn btn-success" (click)="onRealizarBusca()">Buscar <span class="glyphicon glyphicon-search" aria-hidden="true"></span></button></p>
   <!--<div class="chip">
    <div class="chip-tag">UF</div>
         John Doe
      <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
    </div>-->
</div>

<div [ngSwitch]="pesquisaPor" *ngIf="!buscaSemResultados && !carregandoDados">

  <alert type="success">Exibindo {{ numeroDeItems }} de um total de {{ totalDeItems }} {{ pesquisaPor }} {{ pesquisaPor==='propostas'?'encontradas':'encontrados' }}.</alert>   

  <div *ngSwitchCase="'projetos'" >
    <div *ngFor="let projeto of listaProjetos" class="panel panel-default">
      <div class="panel-heading">{{ projeto.nome }}</div>
      <div class="row panel-body">
        <div class="col-sm-7"><p>Proponenete: </p><h4>{{ projeto.proponente}}</h4></div> 
        <div class="col-sm-3 col-xs-6"><p>Área: </p><h4>{{ projeto.area}}</h4></div> 
        <div class="col-sm-2 col-xs-6"><button [routerLink]="['/projetos', projeto.PRONAC]" 
                                       type="button" 
                                       class="btn btn-primary">Ver Projeto</button></div>
      </div>
    </div> 
  </div>
  <div *ngSwitchCase="'propostas'">
    <div *ngFor="let proposta of listaPropostas" class="panel panel-default">
      <div class="panel-heading">{{ proposta.nome }}</div> 
      <div class="row panel-body">
         <div class="col-sm-3"><button [routerLink]="['/propostas', proposta.id]" 
                                        type="button" 
                                        class="btn btn-primary" >Ver Prroposta</button></div>
      </div>
    </div>
  </div>
  <div *ngSwitchCase="'proponentes'">
    <div *ngFor="let proponente of listaProponentes" class="panel panel-default">
      <div class="panel-heading">{{ proponente.nome }}</div> 
      <div class="row panel-body">
        <div class="col-sm-9"><p>CGCCPF: </p><h4>{{ proponente.cgccpf }}</h4></div> 
        <div class="col-sm-3"><button [routerLink]="['/proponentes', dataFormatterService.extraiIdDaUrl(proponente._links.self)]" 
                                       type="button" 
                                       class="btn btn-primary" >Ver Proponente</button></div>
      </div>                                   
    </div>
  </div>
  <div *ngSwitchCase="'incentivadores'">
    <div *ngFor="let incentivador of listaIncentivadores" class="panel panel-default">
      <div class="panel-heading">{{ incentivador.nome }}</div> 
      <div class="row panel-body">
        <div class="col-sm-9"><p>cgccpf: </p><h4>{{ incentivador.cgccpf }}</h4></div>
        <div class="col-sm-3"><button [routerLink]="['/incentivadores', dataFormatterService.extraiIdDaUrl(incentivador._links.self)]" 
                                       type="button" 
                                       class="btn btn-primary" >VER INCENTIVADOR</button></div>
      </div>
    </div>
  </div>
  <div *ngSwitchCase="'fornecedores'">
    <div *ngFor="let fornecedor of listaFornecedores" class="panel panel-default">
      <div class="panel-heading">{{ fornecedor.nome }}</div> 
      <div class="row panel-body">
        <div class="col-sm-9"><p>cgccpf: </p><h4>{{ fornecedor.cgccpf }}</h4></div>
      <div class="col-sm-3"><button [routerLink]="['/fornecedores', dataFormatterService.extraiIdDaUrl(fornecedor._links.self)]" 
                                       type="button" 
                                       class="btn btn-primary" >VER FORNECEDOR</button></div>
      </div>
    </div>
  </div>

</div>

<sk-fading-circle [isRunning]="carregandoDados"></sk-fading-circle>

<alert *ngIf="buscaSemResultados"type="danger">
  <p>Não encontramos {{ pesquisaPor }} com estes parâmetros de pesquisa :(</p>
  <p>Experimente mudar os termos de busca ou filtros aplicados.</p>
</alert>
     
<div class="text-center" *ngIf="(numeroDeItems < totalDeItems)">

  <pagination [totalItems]="totalDeItems" 
              (pageChanged)="carregarPagina(paginaAtual)" 
              [maxSize]=" maximoBotoes" 
              class="pagination-sm"
              [boundaryLinks]="true" 
              [rotate]="false"  
              [(ngModel)]="paginaAtual"></pagination>
</div>